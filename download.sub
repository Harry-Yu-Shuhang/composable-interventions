#!/bin/bash
#SBATCH --partition=a100
#SBATCH --job-name=download_models
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=4
#SBATCH --time=02:00:00
#SBATCH --mem=32G
#SBATCH --output=logs/download_models/output.log
#SBATCH --error=logs/download_models/error.log

# ===== è®¾ç½®ç¯å¢ƒ =====
echo "ğŸ”§ å½“å‰å·¥ä½œç›®å½•: $(pwd)"
cd "$SLURM_SUBMIT_DIR" || exit 1

# ===== æ¿€æ´»ç¯å¢ƒï¼ˆæ ¹æ®ä½ æœ¬åœ°ç¯å¢ƒä¿®æ”¹ï¼‰=====
source ~/.bashrc
conda activate base  # æˆ–ä½ å®‰è£… huggingface_hub çš„ç¯å¢ƒ

# ===== æ‰§è¡Œä¸‹è½½è„šæœ¬ =====
echo "ğŸš€ å¼€å§‹ä¸‹è½½æ¨¡å‹: $(date)"
python download.py
echo "âœ… ä¸‹è½½å®Œæˆ: $(date)"
